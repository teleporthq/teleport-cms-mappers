"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("node:path"),u=require("node:process"),y=require("./utils-91be1e9c.js"),l=["DeletedEntry","Entry"],d=async(t,e)=>{const n=[];if(u.env?.TELEPORTHQ_ISR_TOKEN!==t.query?.TELEPORTHQ_ISR_TOKEN)return n;const r=t.body;if(!l.includes(r.sys?.type))return console.log(`[ON-DEMAND_ISR]: Received an event that is not allowed: ${r.sys?.type}`),n;const o=r.sys?.contentType?.sys?.id,c=Object.values(e).filter(s=>{if(s.contentType===o)return s}).map(s=>a(r,s));return n.push(...c),n},a=(t,e)=>"dynamicRouteAttribute"in e?e?.dynamicRouteAttribute==="id"?i.join(e.route,t.sys.id):y.resolveDynamicAttributeToPathForContentful(i.join(e.route,e.dynamicRouteAttribute),t):e.route;exports.revalidate=d;

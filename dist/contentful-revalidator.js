"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("node:path"),d=require("node:process"),T=["DeletedEntry","Entry"],p=async(n,e)=>{const y=n.query,s=n.body,u=s.sys?.type;if(!T.includes(u)||d.env?.TELEPORTHQ_ISR_TOKEN!==y?.TELEPORTHQ_ISR_TOKEN)return;const i=s.sys?.contentType?.sys?.id,c=Object.values(e).filter(t=>t.contentType===i&&t.type==="details")?.[0],o=[];if(c){const t=r(s,c);o.push(t)}return Object.values(e).filter(t=>t.contentType===i&&t.type==="list").forEach(t=>{const l=r(s,t);o.push(l)}),o},r=(n,e)=>e?.dynamicRouteAttribute?a.join(e.route,e.dynamicRouteAttribute==="id"?n.sys.id:n.fields.slug["en-US"]):e.route;exports.revalidate=p;

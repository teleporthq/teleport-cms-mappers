"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=(t,a)=>{if(typeof t!="object"||t===null)return t;const e={};for(const n in t)e[n]=d(t[n]);return typeof e.url=="string"&&e.url.startsWith("/")&&(a||(a=process.env.CMS_URL),e.url=`${a}${e.url}`),e},u=(t,a)=>{const e={};for(const n in t){const o=t[n];if(typeof o=="object"&&o!==null&&"data"in o&&o.data!==null&&"id"in o.data&&"attributes"in o.data){const i=l(o,a);e[n]={id:o.data.id,...i}}else Array.isArray(o)?e[n]=o.map(i=>u(i,a)):e[n]=d(o,a)}return e},l=(t,a)=>{if(Array.isArray(t))return{data:t.map(n=>l(n,a))};if(t==null||typeof t=="object"&&!Object.keys(t).length)return null;let e={...t};return t.attributes&&(e={...e,...u(t.attributes,a)},delete e.attributes),t.data&&(e=l(t.data,a)),e.url?.startsWith("/")&&(a||(a=process.env.CMS_URL),e.url=`${a}${e.url}`),e},m=(t,a)=>{const e=t?.meta?.pagination?.total,n=t?.meta?.pagination?.limit,o=t?.meta?.pagination?.start;let i=0,r=1;e&&n&&(i=Math.ceil(e/n)),o&&n&&(r=Math.floor(o/n)+1);const f=r<i,c=r>=2;let s=l(t.data,a);return s.data&&(s=s.data),{meta:{...t?.meta,pagination:{...t?.meta?.pagination,...i&&{pages:i},...r&&{page:r},hasNextPage:f,hasPrevPage:c}},data:s}};exports.normalize=m;exports.normalizeContent=l;exports.normalizeNestedAttributes=u;

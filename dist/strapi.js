"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=(t,n)=>{if(typeof t!="object"||t===null)return t;const a={};for(const e in t){if(typeof t[e]=="object"&&t[e]!==null&&"data"in t[e]&&t[e].data!==null&&"id"in t[e].data&&"attributes"in t[e].data){const i=l(t[e],n);a[e]={id:t[e].data.id,...i};continue}a[e]=u(t[e],n)}return typeof a.url=="string"&&a.url.startsWith("/")&&(n||(n=process.env.CMS_URL),a.url=`${n}${a.url}`),a},d=(t,n)=>{const a={};for(const e in t){const i=t[e];if(typeof i=="object"&&i!==null&&"data"in i&&i.data!==null&&"id"in i.data&&"attributes"in i.data){const o=l(i,n);a[e]={id:i.data.id,...o}}else Array.isArray(i)?a[e]=i.map(o=>d(o,n)):a[e]=u(i,n)}return a},l=(t,n)=>{if(Array.isArray(t))return{data:t.map(e=>l(e,n))};if(t==null||typeof t=="object"&&!Object.keys(t).length)return null;let a={...t};return t.attributes&&(a={...a,...d(t.attributes,n)},delete a.attributes),t.data&&(a=l(t.data,n)),a.url?.startsWith("/")&&(n||(n=process.env.CMS_URL),a.url=`${n}${a.url}`),a},m=(t,n)=>{const a=t?.meta?.pagination?.total,e=t?.meta?.pagination?.limit,i=t?.meta?.pagination?.start;let o=0,r=1;a&&e&&(o=Math.ceil(a/e)),i&&e&&(r=Math.floor(i/e)+1);const f=r<o,c=r>=2;let s=l(t.data,n);return s.data&&(s=s.data),{meta:{...t?.meta,pagination:{...t?.meta?.pagination,...o&&{pages:o},...r&&{page:r},hasNextPage:f,hasPrevPage:c}},data:s}};exports.normalize=m;exports.normalizeContent=l;exports.normalizeNestedAttributes=d;
